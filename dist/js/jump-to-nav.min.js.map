{"version":3,"sources":["jump-to-nav.js","../../node_modules/@tarekraafat/autocomplete.js/dist/autoComplete.js"],"names":["jumpToElement","document","querySelectorAll","length","Element","prototype","setAttributes","attrs","key","this","setAttribute","scriptLinkage","getElementById","querySelector","param","collapseNested","activeSections","position","topLocation","linkCopy","bottomLocation","autoClose","heading","zIndex","search","showSearchAfter","searchFocus","align","nest","css","urlParam","URLSearchParams","getAttribute","split","get","embeddedStyleTag","createElement","jumpToCSS","textContent","head","appendChild","navWrapperEl","classList","add","HTML","innerHTML","body","documentElement","style","setProperty","top","bottom","navPos","join","includes","alignment","forEach","item","navElement","navList","options","title","semiColonSplit","index","undefined","jtnParseOption","hasAttribute","titleReady","camelize","replace","linkID","linkListItem","linkATag","parentElement","closest","parentListItem","tempItemControls","navListItem","cloneNode","remove","addEventListener","linkHash","currentUrl","window","location","href","navigator","clipboard","writeText","innerText","itemBubble","toLowerCase","setTimeout","event","preventDefault","targetID","parent","child","parentRect","getBoundingClientRect","childRect","parentViewableArea","height","clientHeight","width","clientWidth","scrollTop","scrollBottom","Math","abs","scrollParentToChild","scrollIntoView","behavior","history","pushState","searchEl","searchInput","value","parentItem","childUl","parentNode","lastChild","expandButton","role","aria-label","aria-expanded","tabindex","focus","minimizeButton","el","panelHeader","panelBody","parseInt","jumpToHeaderHeight","offsetHeight","maxHeight","setMaxHeight","sections","jumpToMenu","menuLinks","sectionMargin","currentActive","removeAllActive","getElementsByClassName","makeActive","link","newActive","current","reverse","findIndex","section","scrollY","offsetTop","navItem","global","factory","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","source","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_typeof","obj","Symbol","iterator","constructor","configurable","writable","_toConsumableArray","arr","Array","isArray","_arrayLikeToArray","_arrayWithoutHoles","iter","from","_iterableToArray","_unsupportedIterableToArray","TypeError","_nonIterableSpread","o","minLen","n","toString","call","slice","name","test","len","arr2","select$1","element","create","tag","val","append","insertAdjacentElement","ref","insertBefore","getQuery","field","HTMLInputElement","HTMLTextAreaElement","format","diacritics","String","normalize","checkTrigger","query","condition","threshold","mark","cls","class","outerHTML","configure","ctx","resultsList","resultItem","option","subOption","selector","destination","id","input","eventEmitter","dispatchEvent","CustomEvent","bubbles","detail","feedback","cancelable","record","_ref","mode","highlight","nRecord","qLength","cursor","match","map","character","_match","indexOf","substring","getData","Promise","$return","$error","data","cache","store","src","then","$await_4","$boundEx","findMatches","searchEngine","matches","find","result","_step","_iterator","allowArrayLike","it","F","s","done","e","f","err","normalCompletion","didErr","step","next","return","_createForOfIteratorHelper","results","maxResults","Active","selection","render","list","noResults","fragment","DocumentFragment","concat","inside","open","close","isOpen","wrapper","removeAttribute","goTo","getElementsByTagName","selected","_results$index$classL","_results$state$classL","state","previous","select","start","q","_this","queryVal","trigger","$await_2","Error","$If_1","eventsManager","events","callback","addEvents","duration","timer","run","debounce","clearTimeout","publicEvents","privateEvents","keydown","keyCode","submit","tabSelect","navigate","blur","mousedown","click","itemTag","toUpperCase","items","nodeName","removeEvents","removeEventListener","init","placeHolder","parentAttrs","aria-owns","aria-haspopup","aria-controls","aria-autocomplete","placeholder","around","dest","hidden","autoComplete","config","instances","unInit","removeChild","exports","module","define","amd","globalThis","self","jtnSearchTermsTitle","jtnSearchTermsID","renderDataArrays","offsetParent","titleText","autoCompleteConstructor","refresh","autoCompleteJS","[object Object]","associatedLink","searchValue","closestToggleClosedBtn","withinBoundaries","composedPath","contains","showGroup","showSelect","optionTitle","optionID","itemChild","showCurrentSectionID","display","itemNavItems","code","str","splitOn","optionString","trim"],"mappings":"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","sourcesContent":[null,"(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.autoComplete = factory());\n})(this, (function () { 'use strict';\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n      enumerableOnly && (symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      })), keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = null != arguments[i] ? arguments[i] : {};\n      i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n\n    return target;\n  }\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n      return typeof obj;\n    } : function (obj) {\n      return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    }, _typeof(obj);\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function _toConsumableArray(arr) {\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n  }\n\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n  }\n\n  function _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  function _createForOfIteratorHelper(o, allowArrayLike) {\n    var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n    if (!it) {\n      if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n        if (it) o = it;\n        var i = 0;\n\n        var F = function () {};\n\n        return {\n          s: F,\n          n: function () {\n            if (i >= o.length) return {\n              done: true\n            };\n            return {\n              done: false,\n              value: o[i++]\n            };\n          },\n          e: function (e) {\n            throw e;\n          },\n          f: F\n        };\n      }\n\n      throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }\n\n    var normalCompletion = true,\n        didErr = false,\n        err;\n    return {\n      s: function () {\n        it = it.call(o);\n      },\n      n: function () {\n        var step = it.next();\n        normalCompletion = step.done;\n        return step;\n      },\n      e: function (e) {\n        didErr = true;\n        err = e;\n      },\n      f: function () {\n        try {\n          if (!normalCompletion && it.return != null) it.return();\n        } finally {\n          if (didErr) throw err;\n        }\n      }\n    };\n  }\n\n  var select$1 = function select(element) {\n    return typeof element === \"string\" ? document.querySelector(element) : element();\n  };\n  var create = function create(tag, options) {\n    var el = typeof tag === \"string\" ? document.createElement(tag) : tag;\n    for (var key in options) {\n      var val = options[key];\n      if (key === \"inside\") {\n        val.append(el);\n      } else if (key === \"dest\") {\n        select$1(val[0]).insertAdjacentElement(val[1], el);\n      } else if (key === \"around\") {\n        var ref = val;\n        ref.parentNode.insertBefore(el, ref);\n        el.append(ref);\n        if (ref.getAttribute(\"autofocus\") != null) ref.focus();\n      } else if (key in el) {\n        el[key] = val;\n      } else {\n        el.setAttribute(key, val);\n      }\n    }\n    return el;\n  };\n  var getQuery = function getQuery(field) {\n    return field instanceof HTMLInputElement || field instanceof HTMLTextAreaElement ? field.value : field.innerHTML;\n  };\n  var format = function format(value, diacritics) {\n    value = String(value).toLowerCase();\n    return diacritics ? value.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\").normalize(\"NFC\") : value;\n  };\n  var debounce = function debounce(callback, duration) {\n    var timer;\n    return function () {\n      clearTimeout(timer);\n      timer = setTimeout(function () {\n        return callback();\n      }, duration);\n    };\n  };\n  var checkTrigger = function checkTrigger(query, condition, threshold) {\n    return condition ? condition(query) : query.length >= threshold;\n  };\n  var mark = function mark(value, cls) {\n    return create(\"mark\", _objectSpread2({\n      innerHTML: value\n    }, typeof cls === \"string\" && {\n      \"class\": cls\n    })).outerHTML;\n  };\n\n  var configure = (function (ctx) {\n    var name = ctx.name,\n        options = ctx.options,\n        resultsList = ctx.resultsList,\n        resultItem = ctx.resultItem;\n    for (var option in options) {\n      if (_typeof(options[option]) === \"object\") {\n        if (!ctx[option]) ctx[option] = {};\n        for (var subOption in options[option]) {\n          ctx[option][subOption] = options[option][subOption];\n        }\n      } else {\n        ctx[option] = options[option];\n      }\n    }\n    ctx.selector = ctx.selector || \"#\" + name;\n    resultsList.destination = resultsList.destination || ctx.selector;\n    resultsList.id = resultsList.id || name + \"_list_\" + ctx.id;\n    resultItem.id = resultItem.id || name + \"_result\";\n    ctx.input = select$1(ctx.selector);\n  });\n\n  var eventEmitter = (function (name, ctx) {\n    ctx.input.dispatchEvent(new CustomEvent(name, {\n      bubbles: true,\n      detail: ctx.feedback,\n      cancelable: true\n    }));\n  });\n\n  var search = (function (query, record, options) {\n    var _ref = options || {},\n        mode = _ref.mode,\n        diacritics = _ref.diacritics,\n        highlight = _ref.highlight;\n    var nRecord = format(record, diacritics);\n    record = String(record);\n    query = format(query, diacritics);\n    if (mode === \"loose\") {\n      query = query.replace(/ /g, \"\");\n      var qLength = query.length;\n      var cursor = 0;\n      var match = Array.from(record).map(function (character, index) {\n        if (cursor < qLength && nRecord[index] === query[cursor]) {\n          character = highlight ? mark(character, highlight) : character;\n          cursor++;\n        }\n        return character;\n      }).join(\"\");\n      if (cursor === qLength) return match;\n    } else {\n      var _match = nRecord.indexOf(query);\n      if (~_match) {\n        query = record.substring(_match, _match + query.length);\n        _match = highlight ? record.replace(query, mark(query, highlight)) : record;\n        return _match;\n      }\n    }\n  });\n\n  var getData = function getData(ctx, query) {\n    return new Promise(function ($return, $error) {\n      var data;\n      data = ctx.data;\n      if (data.cache && data.store) return $return();\n      return new Promise(function ($return, $error) {\n        if (typeof data.src === \"function\") {\n          return data.src(query).then($return, $error);\n        }\n        return $return(data.src);\n      }).then(function ($await_4) {\n        try {\n          ctx.feedback = data.store = $await_4;\n          eventEmitter(\"response\", ctx);\n          return $return();\n        } catch ($boundEx) {\n          return $error($boundEx);\n        }\n      }, $error);\n    });\n  };\n  var findMatches = function findMatches(query, ctx) {\n    var data = ctx.data,\n        searchEngine = ctx.searchEngine;\n    var matches = [];\n    data.store.forEach(function (value, index) {\n      var find = function find(key) {\n        var record = key ? value[key] : value;\n        var match = typeof searchEngine === \"function\" ? searchEngine(query, record) : search(query, record, {\n          mode: searchEngine,\n          diacritics: ctx.diacritics,\n          highlight: ctx.resultItem.highlight\n        });\n        if (!match) return;\n        var result = {\n          match: match,\n          value: value\n        };\n        if (key) result.key = key;\n        matches.push(result);\n      };\n      if (data.keys) {\n        var _iterator = _createForOfIteratorHelper(data.keys),\n            _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var key = _step.value;\n            find(key);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      } else {\n        find();\n      }\n    });\n    if (data.filter) matches = data.filter(matches);\n    var results = matches.slice(0, ctx.resultsList.maxResults);\n    ctx.feedback = {\n      query: query,\n      matches: matches,\n      results: results\n    };\n    eventEmitter(\"results\", ctx);\n  };\n\n  var Expand = \"aria-expanded\";\n  var Active = \"aria-activedescendant\";\n  var Selected = \"aria-selected\";\n  var feedback = function feedback(ctx, index) {\n    ctx.feedback.selection = _objectSpread2({\n      index: index\n    }, ctx.feedback.results[index]);\n  };\n  var render = function render(ctx) {\n    var resultsList = ctx.resultsList,\n        list = ctx.list,\n        resultItem = ctx.resultItem,\n        feedback = ctx.feedback;\n    var matches = feedback.matches,\n        results = feedback.results;\n    ctx.cursor = -1;\n    list.innerHTML = \"\";\n    if (matches.length || resultsList.noResults) {\n      var fragment = new DocumentFragment();\n      results.forEach(function (result, index) {\n        var element = create(resultItem.tag, _objectSpread2({\n          id: \"\".concat(resultItem.id, \"_\").concat(index),\n          role: \"option\",\n          innerHTML: result.match,\n          inside: fragment\n        }, resultItem[\"class\"] && {\n          \"class\": resultItem[\"class\"]\n        }));\n        if (resultItem.element) resultItem.element(element, result);\n      });\n      list.append(fragment);\n      if (resultsList.element) resultsList.element(list, feedback);\n      open(ctx);\n    } else {\n      close(ctx);\n    }\n  };\n  var open = function open(ctx) {\n    if (ctx.isOpen) return;\n    (ctx.wrapper || ctx.input).setAttribute(Expand, true);\n    ctx.list.removeAttribute(\"hidden\");\n    ctx.isOpen = true;\n    eventEmitter(\"open\", ctx);\n  };\n  var close = function close(ctx) {\n    if (!ctx.isOpen) return;\n    (ctx.wrapper || ctx.input).setAttribute(Expand, false);\n    ctx.input.setAttribute(Active, \"\");\n    ctx.list.setAttribute(\"hidden\", \"\");\n    ctx.isOpen = false;\n    eventEmitter(\"close\", ctx);\n  };\n  var goTo = function goTo(index, ctx) {\n    var resultItem = ctx.resultItem;\n    var results = ctx.list.getElementsByTagName(resultItem.tag);\n    var cls = resultItem.selected ? resultItem.selected.split(\" \") : false;\n    if (ctx.isOpen && results.length) {\n      var _results$index$classL;\n      var state = ctx.cursor;\n      if (index >= results.length) index = 0;\n      if (index < 0) index = results.length - 1;\n      ctx.cursor = index;\n      if (state > -1) {\n        var _results$state$classL;\n        results[state].removeAttribute(Selected);\n        if (cls) (_results$state$classL = results[state].classList).remove.apply(_results$state$classL, _toConsumableArray(cls));\n      }\n      results[index].setAttribute(Selected, true);\n      if (cls) (_results$index$classL = results[index].classList).add.apply(_results$index$classL, _toConsumableArray(cls));\n      ctx.input.setAttribute(Active, results[ctx.cursor].id);\n      ctx.list.scrollTop = results[index].offsetTop - ctx.list.clientHeight + results[index].clientHeight + 5;\n      ctx.feedback.cursor = ctx.cursor;\n      feedback(ctx, index);\n      eventEmitter(\"navigate\", ctx);\n    }\n  };\n  var next = function next(ctx) {\n    goTo(ctx.cursor + 1, ctx);\n  };\n  var previous = function previous(ctx) {\n    goTo(ctx.cursor - 1, ctx);\n  };\n  var select = function select(ctx, event, index) {\n    index = index >= 0 ? index : ctx.cursor;\n    if (index < 0) return;\n    ctx.feedback.event = event;\n    feedback(ctx, index);\n    eventEmitter(\"selection\", ctx);\n    close(ctx);\n  };\n  var click = function click(event, ctx) {\n    var itemTag = ctx.resultItem.tag.toUpperCase();\n    var items = Array.from(ctx.list.querySelectorAll(itemTag));\n    var item = event.target.closest(itemTag);\n    if (item && item.nodeName === itemTag) {\n      select(ctx, event, items.indexOf(item));\n    }\n  };\n  var navigate = function navigate(event, ctx) {\n    switch (event.keyCode) {\n      case 40:\n      case 38:\n        event.preventDefault();\n        event.keyCode === 40 ? next(ctx) : previous(ctx);\n        break;\n      case 13:\n        if (!ctx.submit) event.preventDefault();\n        if (ctx.cursor >= 0) select(ctx, event);\n        break;\n      case 9:\n        if (ctx.resultsList.tabSelect && ctx.cursor >= 0) select(ctx, event);\n        break;\n      case 27:\n        ctx.input.value = \"\";\n        close(ctx);\n        break;\n    }\n  };\n\n  function start (ctx, q) {\n    var _this = this;\n    return new Promise(function ($return, $error) {\n      var queryVal, condition;\n      queryVal = q || getQuery(ctx.input);\n      queryVal = ctx.query ? ctx.query(queryVal) : queryVal;\n      condition = checkTrigger(queryVal, ctx.trigger, ctx.threshold);\n      if (condition) {\n        return getData(ctx, queryVal).then(function ($await_2) {\n          try {\n            if (ctx.feedback instanceof Error) return $return();\n            findMatches(queryVal, ctx);\n            if (ctx.resultsList) render(ctx);\n            return $If_1.call(_this);\n          } catch ($boundEx) {\n            return $error($boundEx);\n          }\n        }, $error);\n      } else {\n        close(ctx);\n        return $If_1.call(_this);\n      }\n      function $If_1() {\n        return $return();\n      }\n    });\n  }\n\n  var eventsManager = function eventsManager(events, callback) {\n    for (var element in events) {\n      for (var event in events[element]) {\n        callback(element, event);\n      }\n    }\n  };\n  var addEvents = function addEvents(ctx) {\n    var events = ctx.events;\n    var run = debounce(function () {\n      return start(ctx);\n    }, ctx.debounce);\n    var publicEvents = ctx.events = _objectSpread2({\n      input: _objectSpread2({}, events && events.input)\n    }, ctx.resultsList && {\n      list: events ? _objectSpread2({}, events.list) : {}\n    });\n    var privateEvents = {\n      input: {\n        input: function input() {\n          run();\n        },\n        keydown: function keydown(event) {\n          navigate(event, ctx);\n        },\n        blur: function blur() {\n          close(ctx);\n        }\n      },\n      list: {\n        mousedown: function mousedown(event) {\n          event.preventDefault();\n        },\n        click: function click$1(event) {\n          click(event, ctx);\n        }\n      }\n    };\n    eventsManager(privateEvents, function (element, event) {\n      if (!ctx.resultsList && event !== \"input\") return;\n      if (publicEvents[element][event]) return;\n      publicEvents[element][event] = privateEvents[element][event];\n    });\n    eventsManager(publicEvents, function (element, event) {\n      ctx[element].addEventListener(event, publicEvents[element][event]);\n    });\n  };\n  var removeEvents = function removeEvents(ctx) {\n    eventsManager(ctx.events, function (element, event) {\n      ctx[element].removeEventListener(event, ctx.events[element][event]);\n    });\n  };\n\n  function init (ctx) {\n    var _this = this;\n    return new Promise(function ($return, $error) {\n      var placeHolder, resultsList, parentAttrs;\n      placeHolder = ctx.placeHolder;\n      resultsList = ctx.resultsList;\n      parentAttrs = {\n        role: \"combobox\",\n        \"aria-owns\": resultsList.id,\n        \"aria-haspopup\": true,\n        \"aria-expanded\": false\n      };\n      create(ctx.input, _objectSpread2(_objectSpread2({\n        \"aria-controls\": resultsList.id,\n        \"aria-autocomplete\": \"both\"\n      }, placeHolder && {\n        placeholder: placeHolder\n      }), !ctx.wrapper && _objectSpread2({}, parentAttrs)));\n      if (ctx.wrapper) ctx.wrapper = create(\"div\", _objectSpread2({\n        around: ctx.input,\n        \"class\": ctx.name + \"_wrapper\"\n      }, parentAttrs));\n      if (resultsList) ctx.list = create(resultsList.tag, _objectSpread2({\n        dest: [resultsList.destination, resultsList.position],\n        id: resultsList.id,\n        role: \"listbox\",\n        hidden: \"hidden\"\n      }, resultsList[\"class\"] && {\n        \"class\": resultsList[\"class\"]\n      }));\n      addEvents(ctx);\n      if (ctx.data.cache) {\n        return getData(ctx).then(function ($await_2) {\n          try {\n            return $If_1.call(_this);\n          } catch ($boundEx) {\n            return $error($boundEx);\n          }\n        }, $error);\n      }\n      function $If_1() {\n        eventEmitter(\"init\", ctx);\n        return $return();\n      }\n      return $If_1.call(_this);\n    });\n  }\n\n  function extend (autoComplete) {\n    var prototype = autoComplete.prototype;\n    prototype.init = function () {\n      init(this);\n    };\n    prototype.start = function (query) {\n      start(this, query);\n    };\n    prototype.unInit = function () {\n      if (this.wrapper) {\n        var parentNode = this.wrapper.parentNode;\n        parentNode.insertBefore(this.input, this.wrapper);\n        parentNode.removeChild(this.wrapper);\n      }\n      removeEvents(this);\n    };\n    prototype.open = function () {\n      open(this);\n    };\n    prototype.close = function () {\n      close(this);\n    };\n    prototype.goTo = function (index) {\n      goTo(index, this);\n    };\n    prototype.next = function () {\n      next(this);\n    };\n    prototype.previous = function () {\n      previous(this);\n    };\n    prototype.select = function (index) {\n      select(this, null, index);\n    };\n    prototype.search = function (query, record, options) {\n      return search(query, record, options);\n    };\n  }\n\n  function autoComplete(config) {\n    this.options = config;\n    this.id = autoComplete.instances = (autoComplete.instances || 0) + 1;\n    this.name = \"autoComplete\";\n    this.wrapper = 1;\n    this.threshold = 1;\n    this.debounce = 0;\n    this.resultsList = {\n      position: \"afterend\",\n      tag: \"ul\",\n      maxResults: 5\n    };\n    this.resultItem = {\n      tag: \"li\"\n    };\n    configure(this);\n    extend.call(this, autoComplete);\n    init(this);\n  }\n\n  return autoComplete;\n\n}));\n"]}